# #-- qname_offbyone.test --#
# source the master var file when it's there
[ -f ../.tpkg.var.master ] && source ../.tpkg.var.master
# use .tpkg.var.test for in test variable passing
[ -f .tpkg.var.test ] && source .tpkg.var.test

DRILL="drill"
BADQNAME="123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.test."

$DRILL -p $TPKG_PORT @127.0.0.1 $BADQNAME
if test $? -ne 0; then
	dig @127.0.0.1 -p $TPKG_PORT $BADQNAME
fi

echo "test one smaller"
BADQNAME="12345678.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.123456789.test."

$DRILL -p $TPKG_PORT @127.0.0.1 $BADQNAME
if test $? -ne 0; then
	dig @127.0.0.1 -p $TPKG_PORT $BADQNAME
fi
